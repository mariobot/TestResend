<label for="emailProvider" class="form-label">Choose Email Provider:</label>
<div class="mb-3">
    
    <select id="emailProvider" class="form-select" @bind="SelectedProvider">
        @foreach (var provider in Providers)
        {
            <option value="@provider.Name">@provider.Name</option>
        }
    </select>
</div>

@code {
    [Parameter]
    public string SelectedProvider { get; set; } = "Resend";

    [Parameter]
    public EventCallback<string> SelectedProviderChanged { get; set; }

    private List<ProviderInfo> Providers = new()
    {
        new ProviderInfo { Name = "Resend" },
        new ProviderInfo { Name = "Twilio" },
        new ProviderInfo { Name = "Bravo" },
        new ProviderInfo { Name = "Mailchimp" }
    };

    private async Task OnProviderChanged(ChangeEventArgs e)
    {
        SelectedProvider = e.Value?.ToString() ?? "Resend";
        await SelectedProviderChanged.InvokeAsync(SelectedProvider);
    }

    private class ProviderInfo
    {
        public string Name { get; set; } = "";
    }
}
